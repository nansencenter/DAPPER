<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.1" />
<title>dapper API documentation</title>
<meta name="description" content="Data Assimilation with Python: a Package for Experimental Research (DAPPER) …" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Package <code>dapper</code></h1>
</header>
<section id="section-intro">
<p>Data Assimilation with Python: a Package for Experimental Research (DAPPER).</p>
<p>DAPPER is a set of templates for benchmarking the performance of data assimilation (DA) methods
using synthetic/twin experiments.</p>
<!--
!
___
_
___ ___ ___ ___
!
|
\ /_\ | _ \ _ \ __| _ \
!
| |) / _ \|
_/
_/ _||
/
!
|___/_/ \_\_| |_| |___|_|_\
!
!
-->
<p>DAPPER is a set of templates for benchmarking the performance of
data assimilation (DA) methods.
The tests provide experimental support and guidance for
new developments in DA. Example diagnostics:</p>
<p><img alt="EnKF - Lorenz'63" src="./dpr_data/figs/anims/DAPPER_illust_v2.jpg"></p>
<p>The typical set-up is a <strong>synthetic (twin) experiment</strong>, where you</p>
<ul>
<li>specify a<ul>
<li>dynamic model<code>*</code></li>
<li>observational model<code>*</code></li>
</ul>
</li>
<li>use these to generate a synthetic<ul>
<li>"truth"</li>
<li>and observations thereof<code>*</code></li>
</ul>
</li>
<li>assess how different DA methods perform in estimating the truth,
given the above starred (<code>*</code>) items.</li>
</ul>
<h2 id="highlights">Highlights</h2>
<p>DAPPER enables the numerical investigation of DA methods
through a variety of typical test cases and statistics.
It (a) reproduces numerical benchmarks results reported in the literature,
and (b) facilitates comparative studies,
thus promoting the (a) reliability and (b) relevance of the results.
For example, this figure is generated by <code>example_3.py</code> and is a
reproduction from this <a href="https://books.google.no/books?id=FtDZDQAAQBAJ&amp;q=figure+6.6">book on DA</a>.</p>
<p><img alt="Comparative benchmarks with Lorenz'96 plotted as a function of the ensemble size (N)" src="./dpr_data/figs/anims/ex3.svg"></p>
<p>DAPPER is (c) open source, written in Python, and (d) focuses on readability;
this promotes the (c) reproduction and (d) dissemination of the underlying science,
and makes it easy to adapt and extend.
In summary, it is well suited for teaching and fundamental DA research.
Also see its <a href="#alternative-projects">drawbacks</a>.</p>
<h2 id="installation">Installation</h2>
<p>Works on Linux/Windows/Mac.</p>
<ol>
<li>
<p><strong>Prerequisite</strong>: Python&gt;=3.8.<br>
If you're not an admin or expert:<br>
1a. Install Python with <a href="https://www.anaconda.com/download">Anaconda</a>.<br>
1b. Use the <a href="https://docs.conda.io/projects/conda/en/latest/user-guide/getting-started.html#starting-conda">Anaconda terminal</a>
to run the commands below.</p>
</li>
<li>
<p><strong>Install</strong>:<br>
Download and extract (or <code>git clone</code>) DAPPER,<br>
<code>cd</code> into the resulting folder
<em>(ensure you're in the folder with a <code>setup.py</code> file)</em>:<br>
<code>pip install -e .</code> (don't forget the <code>.</code>).
If you want multiprocessing options, install with:<br>
<code>pip install -e .[MP]</code></p>
</li>
<li>
<p><strong>Test</strong> by running: <code>python example_1.py</code>
</p>
</li>
</ol>
<p>Step 2 can be replaced by running
<code>pip install da-dapper</code>
but this is not recommended since this hides away DAPPER
as a library in your python path.</p>
<p>If the installation fails, you probably need to <a href="https://docs.conda.io/projects/conda/en/latest/user-guide/getting-started.html#managing-environments">create a new Python environment</a>.</p>
<h2 id="getting-started">Getting started</h2>
<p>Read, run, and understand the scripts <code>example_{1,2,3}.py</code>.
Then, get familiar with the code.</p>
<p>The <a href="https://dapper.readthedocs.io/en/latest/">documentation</a>
provide rendered docstrings, but are far from complete.</p>
<p>Alternatively, see <a href="https://github.com/nansencenter/DA-tutorials">DA-tutorials</a>
for an intro to DA.</p>
<h2 id="methods">Methods</h2>
<table>
<thead>
<tr>
<th>Method</th>
<th>Literature reproduced</th>
</tr>
</thead>
<tbody>
<tr>
<td>EnKF <sup>1</sup></td>
<td>Sak08, Hot15</td>
</tr>
<tr>
<td>EnKF-N</td>
<td>Boc12, Boc15</td>
</tr>
<tr>
<td>EnKS, EnRTS</td>
<td>Raa16b</td>
</tr>
<tr>
<td>iEnKS / iEnKF / EnRML / ES-MDA <sup>2</sup></td>
<td>Sak12, Boc12, Boc14</td>
</tr>
<tr>
<td>LETKF, local &amp; serial EAKF</td>
<td>Boc11</td>
</tr>
<tr>
<td>Sqrt. model noise methods</td>
<td>Raa15</td>
</tr>
<tr>
<td>Particle filter (bootstrap) <sup>3</sup></td>
<td>Boc10</td>
</tr>
<tr>
<td>Optimal/implicit Particle filter
<sup>3</sup></td>
<td>Boc10</td>
</tr>
<tr>
<td>NETF</td>
<td>Töd15, Wil16</td>
</tr>
<tr>
<td>Rank histogram filter (RHF)</td>
<td>And10</td>
</tr>
<tr>
<td>4D-Var</td>
<td></td>
</tr>
<tr>
<td>3D-Var</td>
<td></td>
</tr>
<tr>
<td>Extended KF</td>
<td></td>
</tr>
<tr>
<td>Optimal interpolation</td>
<td></td>
</tr>
<tr>
<td>Climatology</td>
<td></td>
</tr>
</tbody>
</table>
<p><a href="https://dapper.readthedocs.io/en/latest/bib/bib.html">References</a></p>
<p><sup>1</sup>: Stochastic, DEnKF (i.e. half-update), ETKF (i.e. sym. sqrt.).
Serial forms are also available.<br>
Tuned with inflation and "random, orthogonal rotations".<br>
<sup>2</sup>: Also supports the bundle version,
and "EnKF-N"-type inflation.<br>
<sup>3</sup>: Resampling: multinomial
(including systematic/universal and residual).<br>
The particle filter is tuned with "effective-N monitoring",
"regularization/jittering" strength, and more.</p>
<p>For a list of ready-made experiments with suitable,
tuned settings for a given method (e.g. the <code>iEnKS</code>), use gnu's grep:</p>
<pre><code class="language-sh">$ cd dapper/mods
$ grep -r &quot;iEnKS.*(&quot;
</code></pre>
<h2 id="models">Models</h2>
<table>
<thead>
<tr>
<th>Model</th>
<th>Lin?</th>
<th>TLM?</th>
<th>PDE?</th>
<th>Phys.dim.</th>
<th>State len</th>
<th>Lyap≥0</th>
<th>Implementer</th>
</tr>
</thead>
<tbody>
<tr>
<td>Linear Advect. (LA)</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>1d</td>
<td>1000 *</td>
<td>51</td>
<td>Evensen/Raanes</td>
</tr>
<tr>
<td>DoublePendulum</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>0d</td>
<td>4</td>
<td>2</td>
<td>Matplotlib/Raanes</td>
</tr>
<tr>
<td>Ikeda</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>0d</td>
<td>2</td>
<td>1</td>
<td>Raanes</td>
</tr>
<tr>
<td>LotkaVolterra</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>0d</td>
<td>5 *</td>
<td>1</td>
<td>Wikipedia/Raanes</td>
</tr>
<tr>
<td>Lorenz63</td>
<td>No</td>
<td>Yes</td>
<td>"Yes"</td>
<td>0d</td>
<td>3</td>
<td>2</td>
<td>Sakov</td>
</tr>
<tr>
<td>Lorenz84</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>0d</td>
<td>3</td>
<td>2</td>
<td>Raanes</td>
</tr>
<tr>
<td>Lorenz96</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>1d</td>
<td>40 *</td>
<td>13</td>
<td>Raanes</td>
</tr>
<tr>
<td>LorenzUV</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>2x 1d</td>
<td>256 + 8 *</td>
<td>≈60</td>
<td>Raanes</td>
</tr>
<tr>
<td>Kuramoto-Sivashinsky</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
<td>1d</td>
<td>128 *</td>
<td>11</td>
<td>Kassam/Raanes</td>
</tr>
<tr>
<td>Quasi-Geost (QG)</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
<td>2d</td>
<td>129²≈17k</td>
<td>≈140</td>
<td>Sakov</td>
</tr>
</tbody>
</table>
<p>*: flexible; set as necessary</p>
<p>The models are found as subdirectories within <code>dapper/mods</code>.
A model should be defined in a file named <code>core.py</code>,
and illustrated by a file named <code>demo.py</code>.
Ideally, both of these files do not rely on the rest of DAPPER.
<a href="https://dapper.readthedocs.io/en/latest/adding.html">More info</a>.</p>
<p>Most of the other files within a model subdirectory
are usually named <code>authorYEAR.py</code> and define a <code>HMM</code> object,
which holds the settings of a specific twin experiment,
using that model,
as detailed in the corresponding author/year's paper.
At the bottom of each such file should be (in comments)
a list of suitable, tuned settings for various DA methods,
along with their expected, average rmse.a score for that experiment.
The complete list of included experiment files can be obtained with
gnu's <code>find</code>:</p>
<pre><code class="language-sh">$ cd dapper/mods
$ find . -iname &quot;[a-z]*20[0-9].py&quot;
</code></pre>
<p>Some of these files contain settings that have been used in several papers.
As mentioned <a href="#Methods">above</a>,
DAPPER reproduces literature results.
There are also results in the literature that DAPPER does not reproduce.
Typically, this means that the published results are incorrect.</p>
<h2 id="alternative-projects">Alternative projects</h2>
<p>DAPPER is aimed at research and teaching (see discussion up top).
Example of limitations:</p>
<ul>
<li>It is not suited for very big models (&gt;60k unknowns).</li>
<li>Time-dependent error covariances and changes in lengths of state/obs
(although the Dyn and Obs models may otherwise be time-dependent).</li>
<li>Non-uniform time sequences not fully supported.</li>
</ul>
<p>Also, DAPPER comes with no guarantees/support.
Therefore, if you have an <em>operational</em> (real-world) application,
such as WRF,
you should look into one of the alternatives,
sorted by approximate project size.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Developers</th>
<th>Purpose (approximately)</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://www.image.ucar.edu/DAReS/DART/">DART</a></td>
<td>NCAR</td>
<td>Operational, general</td>
</tr>
<tr>
<td><a href="http://pdaf.awi.de/trac/wiki">PDAF</a></td>
<td>AWI</td>
<td>Operational, general</td>
</tr>
<tr>
<td><a href="https://www.jcsda.noaa.gov/index.php">JEDI</a></td>
<td>JCSDA (NOAA, NASA, ++)</td>
<td>Operational, general (in develpmt?)</td>
</tr>
<tr>
<td><a href="http://ert.nr.no/ert/index.php/Main_Page">ERT</a></td>
<td>Statoil</td>
<td>Operational, history matching (Petroleum)</td>
</tr>
<tr>
<td><a href="http://www.openda.org/">OpenDA</a></td>
<td>TU Delft</td>
<td>Operational, general</td>
</tr>
<tr>
<td><a href="http://verdandi.sourceforge.net/">Verdandi</a></td>
<td>INRIA</td>
<td>Biophysical DA</td>
</tr>
<tr>
<td><a href="http://www.geos.ed.ac.uk/~lfeng/">PyOSSE</a></td>
<td>Edinburgh, Reading</td>
<td>Earth-observation DA</td>
</tr>
<tr>
<td><a href="http://www.data-assimilation.net/">SANGOMA</a></td>
<td>Conglomerate*</td>
<td>Unify DA research</td>
</tr>
<tr>
<td><a href="http://www.met.reading.ac.uk/~darc/empire/index.php">EMPIRE</a></td>
<td>Reading (Met)</td>
<td>Research (high-dim)</td>
</tr>
<tr>
<td><a href="http://www.dhigroup.com/">MIKE</a></td>
<td>DHI</td>
<td>Oceanographic. Commercial?</td>
</tr>
<tr>
<td><a href="http://modb.oce.ulg.ac.be/mediawiki/index.php/Ocean_Assimilation_Kit">OAK</a></td>
<td>Liège</td>
<td>Oceaonagraphic</td>
</tr>
<tr>
<td><a href="https://www5.obs-mip.fr/sirocco/assimilation-tools/sequoia-data-assimilation-platform/">Siroco</a></td>
<td>OMP</td>
<td>Oceaonagraphic</td>
</tr>
<tr>
<td><a href="https://github.com/rlabbe/filterpy">FilterPy</a></td>
<td>R. Labbe</td>
<td>Engineering, general intro to Kalman filter</td>
</tr>
<tr>
<td><a href="https://github.com/judithyueli/DASoftware">DASoftware</a></td>
<td>Yue Li, Stanford</td>
<td>Matlab, large-scale</td>
</tr>
<tr>
<td><a href="https://github.com/kingaa/pomp">Pomp</a></td>
<td>U of Michigan</td>
<td>R, general state-estimation</td>
</tr>
<tr>
<td><a href="http://uni.no/en/uni-cipr/">PyIT</a></td>
<td>CIPR</td>
<td>Real-world petroleum DA (?)</td>
</tr>
<tr>
<td>Datum</td>
<td>Raanes</td>
<td>Matlab, personal publications</td>
</tr>
<tr>
<td><a href="http://enkf.nersc.no/">EnKF-Matlab</a></td>
<td>Sakov</td>
<td>Matlab, personal publications and intro</td>
</tr>
<tr>
<td><a href="https://github.com/sakov/enkf-c">EnKF-C</a></td>
<td>Sakov</td>
<td>C, light-weight EnKF, off-line</td>
</tr>
<tr>
<td>IEnKS code</td>
<td>Bocquet</td>
<td>Python, personal publications</td>
</tr>
<tr>
<td><a href="http://hickmank.github.io/pyda/">pyda</a></td>
<td>Hickman</td>
<td>Python, personal publications</td>
</tr>
</tbody>
</table>
<p>The <code>EnKF-Matlab</code> and <code>IEnKS</code> codes have been inspirational
in the development of DAPPER.</p>
<p>*: AWI/Liege/CNRS/NERSC/Reading/Delft</p>
<h2 id="contributors">Contributors</h2>
<p>Patrick N. Raanes,
Colin Grudzien,
Maxime Tondeur,
Remy Dubois</p>
<p>If you use this software in a publication, please cite as follows.</p>
<pre><code class="language-bibtex">@misc{raanes2018dapper,
  author = {Patrick N. Raanes and others},
  title  = {nansencenter/DAPPER: Version 0.8},
  month  = December,
  year   = 2018,
  doi    = {10.5281/zenodo.2029296},
  url    = {https://doi.org/10.5281/zenodo.2029296}
}
</code></pre>
<h2 id="publication-list">Publication list</h2>
<ul>
<li><a href="https://www.geosci-model-dev-discuss.net/gmd-2019-136/">https://www.geosci-model-dev-discuss.net/gmd-2019-136/</a></li>
<li><a href="https://rmets.onlinelibrary.wiley.com/doi/abs/10.1002/qj.3386">https://rmets.onlinelibrary.wiley.com/doi/abs/10.1002/qj.3386</a></li>
<li><a href="https://www.nonlin-processes-geophys-discuss.net/npg-2019-10">https://www.nonlin-processes-geophys-discuss.net/npg-2019-10</a></li>
</ul>
<!--
Badges.
[![DOI](https://zenodo.org/badge/62547494.svg)]
(<https://zenodo.org/badge/latestdoi/62547494>)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)]
(./licence.txt)
-->
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;Data Assimilation with Python: a Package for Experimental Research (DAPPER).

DAPPER is a set of templates for benchmarking the performance of data assimilation (DA) methods
using synthetic/twin experiments.

.. include:: ../README.md

&#34;&#34;&#34;

__version__ = &#34;0.9.6&#34;

import sys

assert sys.version_info &gt;= (3,8), &#34;Need Python&gt;=3.8&#34;


# Profiling.
# Launch python script: $ kernprof -l -v myprog.py
# Functions decorated with &#39;profile&#39; from below will be timed.
try:
    import builtins
    profile = builtins.profile     # will exists if launched via kernprof
except AttributeError:
    def profile(func): return func # provide a pass-through version.



from dapper.tools.series import UncertainQtty

from .admin import (HiddenMarkovModel, Operator, da_method, get_param_setter,
                    seed_and_simulate, xpList)
from .da_methods.baseline import Climatology, OptInterp, Var3D
# DA methods
from .da_methods.ensemble import LETKF, SL_EAKF, EnKF, EnKF_N, EnKS, EnRTS
from .da_methods.extended import ExtKF, ExtRTS
from .da_methods.other import LNETF, RHF
from .da_methods.particle import OptPF, PartFilt, PFa, PFxN, PFxN_EnKF
from .da_methods.variational import Var4D, iEnKS
from .data_management import (default_fig_adjustments, default_styles,
                              discretize_cmap, load_xps, make_label, rel_index,
                              xpSpace)
from .dpr_config import rc
from .stats import register_stat
from .tools.chronos import Chronology
from .tools.magic import magic_naming, spell_out
from .tools.math import (ens_compatible, linspace_int, Id_Obs, partial_Id_Obs, round2,
                         with_recursion, with_rk4)
from .tools.matrices import CovMat
from .tools.randvars import RV, GaussRV
from .tools.stoch import rand, randn, set_seed
from .tools.viz import freshfig


# Documentation management
def _find_demos(as_path=False):
    &#34;Find all model demo.py scripts.&#34;
    lst = []
    for d in (rc.dirs.dapper/&#34;mods&#34;).iterdir():
        x = d/&#34;demo.py&#34;
        if x.is_file():
            x = x.relative_to(rc.dirs.DAPPER)
            if not as_path:
                x = str(x.with_suffix(&#34;&#34;)).replace(&#34;/&#34;, &#34;.&#34;)
            lst.append(x)
    return lst

# This generates a lot of warnings:
# &#34;&#34;&#34;UserWarning: __pdoc__-overriden key ... does not exist in module&#34;&#34;&#34;.
# AFAICT that&#39;s fine. https://github.com/pdoc3/pdoc/issues/206
# Alternative: Insert this at top of each script to exclude
# &gt;&gt;&gt; if __name__ != &#34;__main__&#34;:
# &gt;&gt;&gt;     raise RuntimeError(&#34;This module may only be run as script.&#34;)
# and run pdoc with --skip-errors.
__pdoc__ = {
    &#34;tools.remote.autoscaler&#34;: False,
    **{demo:False for demo in _find_demos()},
    &#34;dapper.mods.KS.compare_schemes&#34;: False,
    &#34;dapper.mods.LorenzUV.illust_LorenzUV&#34;: False,
    &#34;dapper.mods.LorenzUV.illust_parameterizations&#34;: False,
    &#34;dapper.mods.explore_props&#34;: False,
    &#34;dapper.mods.QG.f90&#34;: False,
}</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="dapper.admin" href="admin.html">dapper.admin</a></code></dt>
<dd>
<div class="desc"><p>High-level API. I.e. the main "user-interface" …</p></div>
</dd>
<dt><code class="name"><a title="dapper.da_methods" href="da_methods/index.html">dapper.da_methods</a></code></dt>
<dd>
<div class="desc"><p>Data assimilation methods included with DAPPER.</p></div>
</dd>
<dt><code class="name"><a title="dapper.data_management" href="data_management.html">dapper.data_management</a></code></dt>
<dd>
<div class="desc"><p>Tools (notably xpSpace) for processing and presenting experiment data.</p></div>
</dd>
<dt><code class="name"><a title="dapper.dict_tools" href="dict_tools.html">dapper.dict_tools</a></code></dt>
<dd>
<div class="desc"><p>Tools for working with dicts …</p></div>
</dd>
<dt><code class="name"><a title="dapper.dpr_config" href="dpr_config.html">dapper.dpr_config</a></code></dt>
<dd>
<div class="desc"><p>Load default and user configurations into the rc dict …</p></div>
</dd>
<dt><code class="name"><a title="dapper.mods" href="mods/index.html">dapper.mods</a></code></dt>
<dd>
<div class="desc"><p>Models included with DAPPER …</p></div>
</dd>
<dt><code class="name"><a title="dapper.stats" href="stats.html">dapper.stats</a></code></dt>
<dd>
<div class="desc"><p>Stats computation for the assessment of DA methods.</p></div>
</dd>
<dt><code class="name"><a title="dapper.tools" href="tools/index.html">dapper.tools</a></code></dt>
<dd>
<div class="desc"><p>If the only tool you have is a hammer, it's hard to eat spaghetti.</p></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="dapper.profile"><code class="name flex">
<span>def <span class="ident">profile</span></span>(<span>func)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def profile(func): return func # provide a pass-through version.</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul>
<li><a href="#highlights">Highlights</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#getting-started">Getting started</a></li>
<li><a href="#methods">Methods</a></li>
<li><a href="#models">Models</a></li>
<li><a href="#alternative-projects">Alternative projects</a></li>
<li><a href="#contributors">Contributors</a></li>
<li><a href="#publication-list">Publication list</a></li>
</ul>
</div>
<ul id="index">
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="dapper.admin" href="admin.html">dapper.admin</a></code></li>
<li><code><a title="dapper.da_methods" href="da_methods/index.html">dapper.da_methods</a></code></li>
<li><code><a title="dapper.data_management" href="data_management.html">dapper.data_management</a></code></li>
<li><code><a title="dapper.dict_tools" href="dict_tools.html">dapper.dict_tools</a></code></li>
<li><code><a title="dapper.dpr_config" href="dpr_config.html">dapper.dpr_config</a></code></li>
<li><code><a title="dapper.mods" href="mods/index.html">dapper.mods</a></code></li>
<li><code><a title="dapper.stats" href="stats.html">dapper.stats</a></code></li>
<li><code><a title="dapper.tools" href="tools/index.html">dapper.tools</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="dapper.profile" href="#dapper.profile">profile</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.1</a>.</p>
</footer>
</body>
</html>